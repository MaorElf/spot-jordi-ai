<div class="message" [ngClass]="{'user-message': message.sender !== 'jordi'}">
    <div *ngIf="message.sender === 'jordi' && isLast">
      <svg width="50" height="27" viewBox="0 0 50 27" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_220_4423)">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M32.4186 7.6317C31.99 8.35566 31.7756 9.15541 31.7756 10.0309H31.773V13.7317C31.773 14.5994 31.9847 15.394 32.416 16.1127C32.8472 16.8314 33.4222 17.4064 34.1461 17.835C34.8701 18.2663 35.6698 18.4806 36.5454 18.4806H41.2289C41.9711 18.4806 42.6036 18.2166 43.1316 17.6887C43.6595 17.1607 43.9235 16.5256 43.9235 15.786V0.332031H41.2315V15.7834H36.548C35.9756 15.7834 35.4869 15.5821 35.0792 15.1718C34.6715 14.7615 34.4676 14.2728 34.4676 13.703V10.0545C34.4676 9.47687 34.6715 8.9803 35.0792 8.56735C35.4895 8.15441 35.9782 7.94794 36.548 7.94794H39.7V5.25598H36.548C35.6725 5.25598 34.8727 5.4729 34.1488 5.90153C33.4248 6.33276 32.8472 6.90775 32.4186 7.6317ZM8.26147 7.6317C7.83284 8.35565 7.61853 9.1554 7.61853 10.0309V13.7056C7.61853 14.5812 7.83023 15.3809 8.26147 16.1049C8.6927 16.8288 9.26769 17.4064 9.99164 17.835C10.7156 18.2663 11.5153 18.4806 12.3909 18.4806H15.2763C16.1518 18.4806 16.9515 18.2637 17.6755 17.835C18.3995 17.4038 18.9744 16.8288 19.4057 16.1049C19.8369 15.3809 20.0512 14.5812 20.0512 13.7056V10.0309C20.0512 9.1554 19.8343 8.35565 19.4057 7.6317C18.9744 6.90774 18.3995 6.33015 17.6755 5.90152C16.9515 5.47029 16.1518 5.25597 15.2763 5.25597H12.3909C11.5153 5.25597 10.7156 5.4729 9.99164 5.90152C9.26769 6.33276 8.69009 6.90774 8.26147 7.6317ZM10.9221 15.1666C10.5144 14.7536 10.3105 14.2571 10.3105 13.6795V10.0545C10.3105 9.47687 10.5144 8.9803 10.9221 8.56735C11.3324 8.15441 11.8211 7.94794 12.3909 7.94794H15.2763C15.8539 7.94794 16.3452 8.15441 16.7503 8.56735C17.1554 8.9803 17.3567 9.47687 17.3567 10.0545V13.6795C17.3567 14.2597 17.1554 14.7536 16.7503 15.1666C16.3452 15.5795 15.8539 15.786 15.2763 15.786H12.3909C11.8185 15.786 11.3298 15.5795 10.9221 15.1666ZM1.37212 20.6864C1.08724 20.7465 0.629868 20.7753 0 20.7753V23.4673C1.20746 23.4673 2.15357 23.3392 2.83833 23.0857C3.52308 22.8322 4.0092 22.3957 4.29408 21.7789C4.57896 21.1621 4.7227 20.3179 4.7227 19.2464V5.25859H2.03074V19.2437C2.03074 19.7116 1.99415 20.0539 1.91574 20.2709C1.83733 20.4878 1.657 20.6263 1.37212 20.6864ZM22.9836 8.95939C22.9836 8.27986 23.1561 7.65784 23.5011 7.09592C23.8461 6.53401 24.3061 6.08709 24.8785 5.75517C25.4508 5.42324 26.0885 5.25859 26.7864 5.25859H29.7344V7.93749H26.7864C26.4806 7.93749 26.2192 8.04203 26.0023 8.25112C25.7854 8.4602 25.6782 8.71371 25.6782 9.01166V18.4806H22.9862V8.95939H22.9836ZM46.9892 5.25859H49.6942V18.4806H46.9892V5.25859ZM23.0776 26.7763C23.9681 26.7788 24.8315 26.7812 26.2532 26.7812C30.0716 26.7812 33.1791 23.6737 33.1791 19.8553H30.5656C30.5656 22.2337 28.6315 24.1677 26.2532 24.1677C24.8367 24.1677 23.976 24.1652 23.0881 24.1627L22.9993 24.1625C21.9696 24.1572 20.8823 24.1546 18.8411 24.1546V26.7682C20.4092 26.7682 21.4129 26.7713 22.2607 26.7739C22.5137 26.7747 22.7528 26.7754 22.9889 26.776L23.0776 26.7763Z" fill="url(#paint0_linear_220_4423)"/>
        </g>
        <defs>
          <linearGradient id="paint0_linear_220_4423" x1="-3.03013" y1="0.332031" x2="39.5425" y2="37.2397" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FF00CE"/>
            <stop offset="0.89" stop-color="#26A3FF"/>
          </linearGradient>
          <clipPath id="clip0_220_4423">
            <rect width="50" height="26.7811" fill="white"/>
          </clipPath>
        </defs>
      </svg>
    </div>
  <div class="wrapper" [class.user-bubble]="message.sender === sender.user">
    <div class="message" [ngClass]="{'message-big': isLast}">
      <spt-chat-line [shouldFade]="message.sender === sender.jordi && isLast"
                     (wordUpdated)="this.lineUpdated.emit($event)"
                     [line]="message.message">
      </spt-chat-line>
    </div>
  </div>
</div>
